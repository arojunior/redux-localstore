{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 53328c9183777b5ee54d","webpack:///./src/index.js"],"names":["isNull","value","hasSameProps","obj1","obj2","Object","keys","every","hasOwnProperty","prop","LocalStore","store","config","defaults","storage","subscribe","setLocalStore","console","log","getLocalStore","JSON","parse","getStorage","getItem","e","setItem","stringify","getState","defaultState","reducer","localReducer","removeItem"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;ACtCA,KAAMA,SAAS,SAATA,MAAS;AAAA,UAASC,UAAU,WAAV,IAAyBA,UAAU,IAA5C;AAAA,EAAf;;AAEA,KAAMC,eAAe,SAAfA,YAAe,CAACC,IAAD,EAAOC,IAAP;AAAA,UACnBC,OAAOC,IAAP,CAAYH,IAAZ,EAAkBI,KAAlB,CAAwB;AAAA,YAAQH,KAAKI,cAAL,CAAoBC,IAApB,CAAR;AAAA,IAAxB,CADmB;AAAA,EAArB;;KAGqBC,U;AACnB,uBAAYC,KAAZ,EAAkC;AAAA;;AAAA,SAAfC,MAAe,uEAAN,IAAM;;AAAA;;AAChC,UAAKD,KAAL,GAAaA,KAAb;;AAEA,UAAKE,QAAL,GAAgB;AACdC,gBAAS;AADK,MAAhB;;AAIA,SAAIF,MAAJ,EAAY;AACV,YAAKC,QAAL,GAAgBD,MAAhB;AACD;;AAEDD,WAAMI,SAAN,CAAgB;AAAA,cAAM,MAAKC,aAAL,CAAmBL,KAAnB,CAAN;AAAA,MAAhB;AACD;;;;kCAEY;AACX,WAAMG,UAAU,KAAKD,QAAL,CAAcC,OAA9B;AACAG,eAAQC,GAAR,CAAYJ,OAAZ;AACA,cAAOA,OAAP;AACD;;;gCAEU;AACT,cAAO,CAACd,OAAO,KAAKmB,aAAL,EAAP,CAAD,GAAgC,KAAKA,aAAL,EAAhC,GAAuD,EAA9D;AACD;;;qCAEe;AACd,WAAI;AACF,gBAAOC,KAAKC,KAAL,CAAW,KAAKC,UAAL,GAAkBC,OAAlB,CAA0B,YAA1B,CAAX,CAAP;AACD,QAFD,CAEE,OAAOC,CAAP,EAAU;AACVP,iBAAQC,GAAR,CAAYM,CAAZ;AACA,gBAAO,EAAP;AACD;AACF;;;mCAEab,K,EAAO;AACnB,WAAI;AACF,gBAAO,KAAKW,UAAL,GAAkBG,OAAlB,CACL,YADK,EAELL,KAAKM,SAAL,CAAe,KAAKf,KAAL,CAAWgB,QAAX,EAAf,CAFK,CAAP;AAID,QALD,CAKE,OAAOH,CAAP,EAAU;AACVP,iBAAQC,GAAR,CAAYM,CAAZ;AACA,gBAAO,EAAP;AACD;AACF;;;iCAEWI,Y,EAAc;AACxB,cAAO;AAAA,gBAAgB,mBAAW;AAChC,eAAID,WAAWnB,cAAX,CAA0BqB,OAA1B,CAAJ,EAAwC;AACtC,iBAAMC,eAAeH,WAAWE,OAAX,CAArB;AACA,oBAAO3B,aAAa0B,YAAb,EAA2BE,YAA3B,IACHA,YADG,GAEHF,YAFJ;AAGD;AACD,kBAAOA,YAAP;AACD,UARM;AAAA,QAAP;AASD;;;uCAEiB;AAChB,cAAO,KAAKN,UAAL,GAAkBS,UAAlB,CAA6B,YAA7B,CAAP;AACD;;;;;;mBA5DkBrB,U","file":"redux-localstore.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"redux-localstore\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"redux-localstore\"] = factory();\n\telse\n\t\troot[\"redux-localstore\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 53328c9183777b5ee54d\n **/","const isNull = value => value === 'undefined' || value === null\n\nconst hasSameProps = (obj1, obj2) =>\n  Object.keys(obj1).every(prop => obj2.hasOwnProperty(prop))\n\nexport default class LocalStore {\n  constructor(store, config = null) {\n    this.store = store\n\n    this.defaults = {\n      storage: 'localStorage'\n    }\n\n    if (config) {\n      this.defaults = config\n    }\n\n    store.subscribe(() => this.setLocalStore(store))\n  }\n\n  getStorage() {\n    const storage = this.defaults.storage\n    console.log(storage)\n    return storage\n  }\n\n  getState() {\n    return !isNull(this.getLocalStore()) ? this.getLocalStore() : {}\n  }\n\n  getLocalStore() {\n    try {\n      return JSON.parse(this.getStorage().getItem('reduxStore'))\n    } catch (e) {\n      console.log(e)\n      return {}\n    }\n  }\n\n  setLocalStore(store) {\n    try {\n      return this.getStorage().setItem(\n        'reduxStore',\n        JSON.stringify(this.store.getState())\n      )\n    } catch (e) {\n      console.log(e)\n      return {}\n    }\n  }\n\n  defineState(defaultState) {\n    return defaultState => reducer => {\n      if (getState().hasOwnProperty(reducer)) {\n        const localReducer = getState()[reducer]\n        return hasSameProps(defaultState, localReducer)\n          ? localReducer\n          : defaultState\n      }\n      return defaultState\n    }\n  }\n\n  resetLocalStore() {\n    return this.getStorage().removeItem('reduxStore')\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/"],"sourceRoot":""}